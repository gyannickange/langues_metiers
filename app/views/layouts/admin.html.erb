<!DOCTYPE html>
<html>
  <head>
    <title><%= content_for(:title) || "Admin" %> · Langues & Metiers</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_importmap_tags %>
  </head>
  <body class="bg-gray-50">
    <%= render "shared/flash" %>
    <div data-controller="menu" class="min-h-screen flex">
      <aside data-menu-target="sidebar" class="w-64 bg-white border-r hidden md:block md:relative md:translate-x-0 fixed inset-y-0 z-40 transform -translate-x-full transition-transform duration-200 ease-in-out">
        <div class="p-4 border-b flex items-center justify-between md:hidden">
          <span class="font-semibold">Menu</span>
          <button data-action="menu#toggle" class="p-2">✕</button>
        </div>
        <%= render "shared/sidebar" %>
      </aside>

      <div class="flex-1 flex flex-col min-w-0">
        <header class="bg-white border-b sticky top-0 z-30">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-14 flex items-center justify-between">
            <div class="flex items-center gap-2">
              <button class="md:hidden p-2" data-action="menu#toggle" aria-label="Open menu">☰</button>
              <h1 class="font-semibold"><%= content_for(:page_title) || "Dashboard" %></h1>
            </div>
            <div class="text-sm">
              <%= current_user&.email %>
            </div>
          </div>
        </header>

        <main class="flex-1 p-4 md:p-6">
          <%= yield %>
        </main>
      </div>
    </div>
  </body>
  </html>


