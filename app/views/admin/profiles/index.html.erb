<%# app/views/admin/profiles/index.html.erb %>
<div class="px-6 py-6">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-xl font-bold">Profils (<%= @profiles.count %>)</h1>
    <%= link_to "Nouveau", new_admin_profile_path, class: "bg-blue-700 text-white px-4 py-2 rounded text-sm" %>
  </div>
  <table class="w-full text-sm border-collapse">
    <thead><tr class="border-b text-left text-gray-500">
      <th class="pb-2 pr-4">Nom</th>
      <th class="pb-2 pr-4">Slug</th>
      <th class="pb-2">Trajectoires</th>
      <th></th>
    </tr></thead>
    <tbody>
      <% @profiles.each do |profile| %>
        <tr class="border-b hover:bg-gray-50">
          <td class="py-2 pr-4 font-medium"><%= profile.name %></td>
          <td class="pr-4 text-gray-500"><%= profile.slug %></td>
          <td><%= profile.trajectories.count %></td>
          <td class="text-right">
            <%= link_to "Modifier", edit_admin_profile_path(profile), class: "text-blue-600 mr-3 text-xs" %>
            <%= button_to "Supprimer", admin_profile_path(profile), method: :delete,
                  data: { turbo_confirm: "Confirmer la suppression ?" },
                  class: "text-red-500 text-xs bg-transparent border-0 cursor-pointer" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
